<template>
    <lightning-card title="Users">
         <!-- Search Box -->
        <div class="slds-p-around_medium">
            <lightning-input 
                type="search" 
                value={searchKey} 
                label="Search Users"
                placeholder="Search by name..."
                onchange={handleSearch}>
            </lightning-input>
        </div>

        <template for:each={users} for:item="user">
            <div key={user.userId} class="slds-m-around_small slds-box">
                <lightning-avatar
                    size="medium"
                    src={user.photoUrl}
                    alternative-text={user.name}
                ></lightning-avatar>
                <span class="slds-m-left_small">{user.name}</span>

                <template if:true={user.isFollowed}>
                    <lightning-button
                        label="Unfollow"
                        data-id={user.userId}
                        onclick={handleUnfollow}
                        variant="destructive"
                        class="slds-m-left_small follow_unfollow_btn"
                    ></lightning-button>
                </template>

                <template if:false={user.isFollowed}>
                    <lightning-button
                        label="Follow"
                        data-id={user.userId}
                        onclick={handleFollow}
                        variant="brand"
                        class="slds-m-left_small follow_unfollow_btn"
                    ></lightning-button>
                </template>
            </div>
        </template>
    </lightning-card>
</template>
